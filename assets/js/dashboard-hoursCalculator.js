// Generated by CoffeeScript 1.6.2
(function()
{
    window.hoursCalculator = {
        setup: function()
        {
            var difference, fridayHours, mondayHours, saturdayHours, sundayHours, thursdayHours, totalHours, tuesdayHours, wednesdayHours;
            totalHours = 0;
            difference = 0;
            mondayHours = 0;
            tuesdayHours = 0;
            wednesdayHours = 0;
            thursdayHours = 0;
            fridayHours = 0;
            saturdayHours = 0;
            sundayHours = 0;
            $('body').on('click', '.show_calculator', function()
            {
                if (!$('#hours_calculator').is(':visible'))
                {
                    mondayHours = 0;
                    tuesdayHours = 0;
                    wednesdayHours = 0;
                    thursdayHours = 0;
                    fridayHours = 0;
                    saturdayHours = 0;
                    sundayHours = 0;
                    //$('#totalHours').val(0);
                }
                return $('#hours_calculator').slideToggle();
            });
            return $('body').on('change', '.to, .from', function()
            {
                var day, fromHours, fromHoursMinutes, fromMinutes, fromValue, name, toHours, toHoursMinutes, toMinutes, toValue;

                fromValue = $(this).closest('.day').find('.from').val();
                toValue = $(this).closest('.day').find('.to').val();
                if (!fromValue && !toValue)
                {
                    name = $(this).attr('name').split(/[._]/);
                    day = name[0];
                    switch (day)
                    {
                        case "sunday":
                            document.getElementById('sunday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('sunday_from').style.borderColor = "#e5e5e5";
                            sundayHours = 0;
                            break;
                        case "monday":
                            document.getElementById('monday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('monday_from').style.borderColor = "#e5e5e5";
                            mondayHours = 0;
                            break;
                        case "tuesday":
                            document.getElementById('tuesday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('tuesday_form').style.borderColor = "#e5e5e5";
                            tuesdayHours = 0;
                            break;
                        case "wednesday":
                            document.getElementById('wednesday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('wednesday_form').style.borderColor = "#e5e5e5";
                            wednesdayHours = 0;
                            break;
                        case "thursday":
                            document.getElementById('thursday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('thursday_form').style.borderColor = "#e5e5e5";
                            thursdayHours = 0;
                            break;
                        case "friday":
                            document.getElementById('friday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('friday_form').style.borderColor = "#e5e5e5";
                            fridayHours = 0;
                            break;
                        case "saturday":
                            document.getElementById('saturday_to').style.borderColor = "#e5e5e5";
                            document.getElementById('saturday_from').style.borderColor = "#e5e5e5";
                            saturdayHours = 0;
                            break;
                    }
                }
                if ((fromValue && !toValue) || (!fromValue && toValue))
                {
                    name = $(this).attr('name').split(/[._]/);
                    day = name[0];
                    switch (day)
                    {
                        case "sunday":
                            document.getElementById('sunday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('sunday_from').style.borderColor = "rgb(243,54,59)";
                            sundayHours = 0;
                            break;
                        case "monday":
                            document.getElementById('monday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('monday_from').style.borderColor = "rgb(243,54,59)";
                            mondayHours = 0;
                            break;
                        case "tuesday":
                            document.getElementById('tuesday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('tuesday_form').style.borderColor = "rgb(243,54,59)";
                            tuesdayHours = 0;
                            break;
                        case "wednesday":
                            document.getElementById('wednesday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('wednesday_form').style.borderColor = "rgb(243,54,59)";
                            wednesdayHours = 0;
                            break;
                        case "thursday":
                            document.getElementById('thursday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('thursday_form').style.borderColor = "rgb(243,54,59)";
                            thursdayHours = 0;
                            break;
                        case "friday":
                            document.getElementById('friday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('friday_form').style.borderColor = "rgb(243,54,59)";
                            fridayHours = 0;
                            break;
                        case "saturday":
                            document.getElementById('saturday_to').style.borderColor = "rgb(243,54,59)";
                            document.getElementById('saturday_from').style.borderColor = "rgb(243,54,59)";
                            saturdayHours = 0;
                            break;
                    }
                }
                if (fromValue && toValue)
                {
                    fromHoursMinutes = fromValue.split(/[.:]/);
                    fromHours = parseInt(fromHoursMinutes[0], 10);
                    fromMinutes = parseInt(fromHoursMinutes[1], 10);
                    toHoursMinutes = toValue.split(/[.:]/);
                    toHours = parseInt(toHoursMinutes[0], 10);
                    toMinutes = parseInt(toHoursMinutes[1], 10);
                    difference = (toHours - fromHours) + ((toMinutes - fromMinutes) / 60);
                    name = $(this).attr('name').split(/[._]/);
                    day = name[0];
                    switch (day)
                    {
                        case "sunday":
                            sundayHours = difference;
                            if (sundayHours < 0)
                            {
                                document.getElementById('sunday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('sunday_from').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('sunday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('sunday_from').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "monday":
                            mondayHours = difference;
                            if (mondayHours < 0)
                            {
                                document.getElementById('monday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('monday_from').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('monday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('monday_from').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "tuesday":
                            tuesdayHours = difference;
                            if (tuesdayHours < 0)
                            {
                                document.getElementById('tuesday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('tuesday_form').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('tuesday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('tuesday_form').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "wednesday":
                            wednesdayHours = difference;
                            if (wednesdayHours < 0)
                            {
                                document.getElementById('wednesday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('wednesday_form').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('wednesday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('wednesday_form').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "thursday":
                            thursdayHours = difference;
                            if (thursdayHours < 0)
                            {
                                document.getElementById('thursday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('thursday_form').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('thursday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('thursday_form').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "friday":
                            fridayHours = difference;
                            if (fridayHours < 0)
                            {
                                document.getElementById('friday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('friday_form').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('friday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('friday_form').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                        case "saturday":
                            saturdayHours = difference;
                            if (saturdayHours < 0)
                            {
                                document.getElementById('saturday_to').style.borderColor = "rgb(243,54,59)";
                                document.getElementById('saturday_from').style.borderColor = "rgb(243,54,59)";
                            }
                            else
                            {
                                document.getElementById('saturday_to').style.borderColor = "rgb(57,180,70)";
                                document.getElementById('saturday_from').style.borderColor = "rgb(57,180,70)";
                            }
                            break;
                    }
                }
                totalHours = sundayHours + mondayHours + tuesdayHours + wednesdayHours + thursdayHours + fridayHours + saturdayHours;
                $('#totalHours').val(totalHours);
                /*if(totalHours<0)
			document.getElementById('totalHours').style.borderColor = "rgb(243,54,59)";
	    else
			document.getElementById('totalHours').style.borderColor = "rgb(57,180,70)";
	    if(sundayHours<0 || mondayHours<0 || tuesdayHours<0 || wednesdayHours<0 || thursdayHours<0 || fridayHours<0 || saturdayHours<0)
	    {
			document.getElementById('totalHours').style.borderColor = "rgb(243,54,59)";
			document.getElementById('operatingHours').style.color = "rgb(243,54,59)";
	    }
	    else
	    {*/
                if (document.getElementById('sunday_to').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('monday_to').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('tuesday_to').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('wednesday_to').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('thursday_to').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('friday_to').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('saturday_to').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('sunday_from').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('monday_from').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('tuesday_form').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('wednesday_form').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('thursday_form').style.borderColor == "rgb(243, 54, 59)" || document.getElementById('friday_form').style.borderColor == "rgb(243, 54, 59)" ||
                    document.getElementById('saturday_from').style.borderColor == "rgb(243, 54, 59)")
                {
                    document.getElementById('totalHours').style.borderColor = "rgb(243, 54, 59)";
                    document.getElementById('operatingHours').style.color = "rgb(243, 54, 59)";
                }
                else
                {
                    document.getElementById('totalHours').style.borderColor = "rgb(57, 180, 70)";
                    document.getElementById('operatingHours').style.color = "rgb(57, 180, 70)";
                }
                //}
                return $('#totalHours').trigger('change');
            });
        }
    };

}).call(this);